# 4장 엔티티 매핑

- @Entity : JPA가 관리
    - 엔티티 객체를 생성할 때 기본 생성자 사용 → 기본 생성자 필수
- @Table : 엔티티와 매핑할 테이블
- JPA는 데이터베이스 스키마 자동 생성 기능 지원함
- 기본키 매핑
    - 직접 할당
    - 자동 생성
        - IDENTITY - 기본 키 생성을 데이터베이스에 위임
            - 데이터베이스에 값을 저장하고 나서야 기본 키 값을 구할 수 있음
            - 쓰기 지연 동작 X
        - SEQUENCE - 데이터베이스 시퀀스
            - 데이터베이스 시퀀스 생성 후 시퀀스 매핑
            - 시퀀스 사용해서 식별자 조회 → 식별자 엔티티 할당, 영속성 컨텍스트에 저장 → 플러시 되면 엔티티 데이터베이스에 저장
        - TABLE - 키 생성 테이블
    - 식별자 선택 전략
        - ~~자연 키 - 비즈니스에 의미가 있는 키~~
        - **대리 키 - 비즈니스와 관련 없는 임의로 만들어진 키 ← 권장!!**
            - 시퀀스, auto_increment
